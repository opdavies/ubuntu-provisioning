---
- hosts: all
  become: true

  vars_files:
    - config.yml

  pre_tasks:
    - name: Update apt cache.
      apt:
        update_cache: yes
        cache_valid_time: 86400 

  roles:
    - { role: base, tags: [ 'base', 'packages' ] }
    - { role: geerlingguy.dotfiles, tags: [ 'dotfiles' ] }
    - { role: geerlingguy.drush, tags: [ 'drush', 'drupal' ] }
    - { role: opdavies.oh-my-zsh, tags: [ 'zsh', 'packages' ] }
    - { role: opdavies.sculpin, tags: [ 'sculpin', 'packages' ] }
    - { role: vagrant, tags: vagrant }
